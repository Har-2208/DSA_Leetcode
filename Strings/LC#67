#include <stdlib.h>
#include <string.h>

char* addBinary(char* a, char* b) {
    int i = strlen(a) - 1;
    int j = strlen(b) - 1;
    int carry = 0, sum = 0;
    int digitA, digitB;

    int maxLen = (strlen(a) > strlen(b)) ? strlen(a) : strlen(b);
    char* result = (char*)malloc(maxLen + 2);  

    int k = 0;

    while (i >= 0 || j >= 0 || carry > 0) {
        digitA = (i >= 0) ? a[i] - '0' : 0;
        digitB = (j >= 0) ? b[j] - '0' : 0;

        sum = digitA + digitB + carry;
        carry = sum / 2;

        result[k++] = (sum % 2) + '0';

        i--;
        j--;
    }

    result[k] = '\0';  

    
    int left = 0, right = k - 1;
    char temp;
    while (left < right) {
        temp = result[left];
        result[left] = result[right];
        result[right] = temp;
        left++;
        right--;
    }

    return result;
}
